<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>review</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">

</head>
<body>
<script>
    // 서버로부터 받은 리뷰 리스트를 JavaScript 변수로 저장
    var reviews = {{  positive_reviews_list }};
    var currentReviewIndex = 0; // 현재 리뷰의 인덱스

    // 현재 리뷰를 화면에 표시하는 함수
    function displayReview() {
        document.getElementById('review').textContent = reviews[currentReviewIndex];
    }

    // "다음" 버튼 클릭 이벤트 리스너
    document.getElementById('nextButton').addEventListener('click', function() {
        currentReviewIndex++; // 인덱스 증가
        if (currentReviewIndex >= reviews.length) {
            currentReviewIndex = 0; // 리스트 끝에 도달하면 처음으로
        }
        displayReview(); // 다음 리뷰 표시
    });

</script>
{#return render_template('review.html',post_id=post_id,positive_reviews_list=positive_reviews_list,negative_reviews_list=negative_reviews_list ,title=title,director=director,actors=actors,genres=genres,summary=summary)#}

<div class="w-full py-6 space-y-6 md:py-12">
    <div class="container space-y-6 px-4 md:px-6">
        <div class="grid gap-6 md:gap-8 lg:grid-cols-12 lg:gap-12">
            <div class="flex items-center space-x-4 lg:col-span-3">
{#                포스터사진 {{ post_id }}#}
                <img
                        src="static/images/movies/{{ post_id }}/poster/poster.jpg"
                        alt="Poster"
                        width="300"
                        height="400"
                        class="aspect-poster overflow-hidden rounded-xl object-cover object-center border border-gray-100 w-[200px] dark:border-gray-800"
                />
            </div>
{#            영화별#}
            <div class="grid gap-2 lg:col-span-9">
                <div class="space-y-2">
                    <h1 class="text-3xl font-bold tracking-tighter sm:text-5xl">{{ title }}</h1>
                    <p class="text-gray-500 dark:text-gray-400">{{ genres }}</p>
                </div>
                <div class="grid md:grid-cols-2 md:gap-4 lg:grid-cols-1fr_2fr lg:gap-0">
{#                    director#}
                    <dl class="grid gap-1">
                        <dt class="text-sm font-medium text-gray-500 dark:text-gray-400">감독</dt>
                        <dd class="text-sm font-medium">{{ director }}</dd>
{#                        감독사진도 넣을까 고민#}
                    </dl>

                </div>
            </div>
        </div>
        <div class="grid gap-4 lg:grid-cols-12 lg:gap-8">
            <div class="space-y-2 lg:col-span-3">
                <h3 class="text-xl font-bold tracking-tighter sm:text-2xl md:text-3xl">캐스팅</h3>
            </div>
{#배우사진#}

            <div class="grid gap-4 lg:col-span-10 lg:grid-cols-4">
{#                반복문으로?#}
{#                1번#}
{#                영화배우들이 있는 actors 파일에서 1_1이미지나 #}
                {% for i in range(1, file_count+1) %}
                    <div class="flex items-start gap-4">
    {#                    배우는 1_1.jpg형식으로 저장됨#}
{#                        어떤 폴더에서 특정배우 이미지를 가져오려면?#}
{#                        div 사이즈어디까지 인지#}
                        <div style=  "width: 400px; padding: 10px;border: 3px solid black;"   >
{#                            이미지 크기가 전부 다른데 이걸 한가지로 고정#}
                        <img
                                src="static/images/movies/{{ post_id }}/actors/{{ post_id }}_{{ i }}.jpg"
                                alt="Actor"
                                width="100"
                                object-fit="fill"

                                class="aspect-poster overflow-hidden rounded-xl object-cover object-center border border-gray-100 w-[200px] dark:border-gray-800"

                        />
                        </div>
    {#                    이름은 리스트에 저장되어있으니까 인덱스로 접근#}
                        <div class="space-y-1">
                            <h4 class="font-semibold">{{ actors[i-1] }}</h4>
                        </div>
                    </div>
                {% endfor %}
                <div>
{#                2번#}

                </div>
            </div>


        </div>

{#   내용     #}
{#        전체 차지하는길이 lg:grid-cols-12 #}
        <div class="grid gap-4 lg:grid-cols-12 lg:gap-8">
{#            하위에서 차지하는 부분 정하는게 lg:col-span-12 #}
            <div class="space-y-2 lg:col-span-12">
                <h3 class="text-xl font-bold tracking-tighter sm:text-2xl md:text-3xl">줄거리</h3>

                    <p>
                        {{ summary }}
                    </p>

            </div>

        </div>
{#    위아래로 말고 양옆으로 표출할때는 display 속성#}

        <span style="color: black; text-align: center; font-size: 24px; margin-bottom: 10px;">긍정 워드클라우드</span>
        <div style="display: flex">
        <img src="static/images/movies/{{ post_id }}/positive_wordcloud.jpg" alt="Positive Word Cloud" style="width: 300px; height: 300px;">

{#    화면에 리뷰가 나오는건 되는데 이를 #}
        <span>{{ positive_reviews_list[0] }}</span>
            <button id="nextButton">다음</button>

        </div>

        <span    style="color: black; text-align: center; font-size: 24px; margin-bottom: 10px;">부정 워드클라우드</span>
        <div style="display: flex">
        <img src="static/images/movies/{{ post_id }}/negative_wordcloud.jpg" alt="Negative Word Cloud" style="width: 300px; height: 300px;">
{#            리뷰가 나오고 1번부터 10개까지 나오고  버튼을 눌렀을때 다음 리뷰 11-20 로 가게하고 싶은데#}
            <span>{{ negative_reviews_list[0] }}</span>
            <button id="nextButton">다음</button>
        </div>
        <div style="display: flex">

        <span style="color: black; text-align: center; font-size: 24px; margin-bottom: 10px;">긍정리뷰에서 단어
        <img src="static/images/movies/{{ post_id }}/positive.png" alt="positive" style="width: 500px; height: 300px;"></span>

        <span style="color: black; text-align: center; font-size: 24px; margin-bottom: 10px;">부정리뷰에서 단어
        <img src="static/images/movies/{{ post_id }}/negative.png" alt="negative" style="width: 500px; height: 300px;"></span>
</div>

{#    카테고리별로 묶었을 때 나오는 리뷰들#}
{#    긍정리뷰에서 카테고리가 story,actor,directing#}

        {#    부정리뷰에서 카테고리가 story,actor,directing#}

    </div>
</div>

</body>
</html>